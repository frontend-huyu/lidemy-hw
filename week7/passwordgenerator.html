<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      font-size: 38px;
    }

    .result {
      background: rgba(0, 0, 0, 0.2);
    }
  </style>
</head>

<body>
  <div class="app">
    <!-- <input type="checkbox" id="en" /><label for="en">English</label> -->
    <div><label><input type="checkbox" name="alphabet" data-char="abcdefghijklmnopqrstuvwxyz" />Alphabet</label></div>
    <div><label><input type="checkbox" name="number" data-char="0123456789" />Number</label></div>
    <div><label><input type="checkbox" name="special-character" data-char="!@#$%^&*()" />Special character</label></div>
    <div>
      <button class="btn-generate">Generate</button>
    </div>
    <div class="result">
      result
    </div>
  </div>
  <script>
    // solution1
    // document.querySelector('.btn-generate').addEventListener('click', (e) => {
    //   let availableChar = ''
    //   // input checkbox checked property
    //   // checkboxObject.checked = true | false
    //   if (document.querySelector('input[name=alphabet]').checked) {
    //     availableChar += 'abcdefghijklmnopqrstuvwxyz'
    //   }

    //   if (document.querySelector('input[name=number]').checked) {
    //     availableChar += '0123456789'
    //   }

    //   if (document.querySelector('input[name=special-character]').checked) {
    //     availableChar += '!@#$%^&*()'
    //   }

    //   let result = ''
    //   for (let i = 0; i < 10; i++) {
    //     const char = Math.floor(Math.random() * availableChar.length)
    //     result += availableChar[char]
    //   }

    //   document.querySelector('.result').innerText = result
    // })

    // solution2
    // document.querySelector('.btn-generate').addEventListener('click', (e) => {
    //   let availableChar = ''
    //   availableChar += getChar('alphabet', 'abcdefghijklmnopqrstuvwxyz')
    //   availableChar += getChar('number', '0123456789')
    //   availableChar += getChar('special-character', '!@#$%^&*()')

    //   // console.log(availableChar)

    //   let result = ''
    //   for (let i = 0; i < 10; i++) {
    //     const randomChar = Math.floor(Math.random() * availableChar.length)
    //     result += availableChar[randomChar]
    //   }

    //   // if availableChar.length = 0, it means randomChar will be accessed availableChar[0] that shows 'undefined' for ten times
    //   if (!availableChar.length) {
    //     alert('Please select at least one subject')
    //   } else {
    //     document.querySelector('.result').innerText = result
    //   }
    // })

    // function getChar(name, char) {
    //   if (document.querySelector(`input[name=${name}]`).checked) {
    //     return char
    //   }
    //   return ''
    // }

    // solution3 use data-*
    document.querySelector('.btn-generate').addEventListener('click', () => {
      let availableChar = ''
      const elements = document.querySelectorAll('input[type=checkbox]')
      console.log(elements)
      for (let i = 0; i < elements.length; i++) {
        if (elements[i].checked) {
          availableChar += elements[i].getAttribute('data-char')
        }
      }

      let result = ''
      for (let i = 0; i < 10; i++) {
        const randomChar = Math.floor(Math.random() * availableChar.length)
        result += availableChar[randomChar]
      }

      if (!availableChar.length) {
        alert('Please select at least one subject')
      } else {
        document.querySelector('.result').innerText = result
      }
    })
  </script>
</body>

</html>